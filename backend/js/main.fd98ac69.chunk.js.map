{"version":3,"sources":["_helpers/fake-backend.js","_helpers/history.js","_constants/alert.constants.js","_constants/user.constants.js","_reducers/authentication.reducer.js","_reducers/index.js","_reducers/registration.reducer.js","_reducers/users.reducer.js","_reducers/alert.reducer.js","_helpers/store.js","_helpers/auth-header.js","_actions/alert.actions.js","_services/user.service.js","_actions/user.actions.js","_components/PrivateRoute.js","HomePage/HomePage.js","LoginPage/LoginPage.js","RegisterPage/RegisterPage.js","App/App.js","index.js"],"names":["users","JSON","parse","localStorage","getItem","history","createBrowserHistory","alertConstants","userConstants","user","initialState","loggedIn","rootReducer","combineReducers","authentication","state","action","type","loggingIn","registration","registering","loading","items","error","alert","message","loggerMiddleware","createLogger","store","createStore","applyMiddleware","thunkMiddleware","authHeader","token","alertActions","success","clear","userService","login","username","password","requestOptions","method","headers","body","stringify","fetch","then","handleResponse","setItem","logout","register","getAll","getById","id","update","removeItem","response","text","data","ok","status","statusText","Promise","reject","userActions","dispatch","push","failure","request","PrivateRoute","Component","component","rest","render","props","to","pathname","from","location","HomePage","this","getUsers","className","firstName","React","actionCreators","connectedHomePage","connect","LoginPage","submitted","handleChange","bind","handleSubmit","e","target","name","value","setState","preventDefault","onSubmit","htmlFor","onChange","src","connectedLoginPage","RegisterPage","lastName","event","connectedRegisterPage","App","listen","clearAlerts","exact","path","connectedApp","realFetch","window","url","opts","resolve","setTimeout","endsWith","params","filteredUsers","filter","length","responseJson","Authorization","match","urlParts","split","parseInt","matchedUsers","newUser","Math","max","map","configureFakeBackend","document","getElementById"],"mappings":"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","file":"static/js/main.fd98ac69.chunk.js","sourcesContent":["// array in local storage for registered users\r\nlet users = JSON.parse(localStorage.getItem('users')) || [];\r\n    \r\nexport function configureFakeBackend() {\r\n    let realFetch = window.fetch;\r\n    window.fetch = function (url, opts) {\r\n        return new Promise((resolve, reject) => {\r\n            // wrap in timeout to simulate server api call\r\n            setTimeout(() => {\r\n\r\n                // authenticate\r\n                if (url.endsWith('/users/authenticate') && opts.method === 'POST') {\r\n                    // get parameters from post request\r\n                    let params = JSON.parse(opts.body);\r\n\r\n                    // find if any user matches login credentials\r\n                    let filteredUsers = users.filter(user => {\r\n                        return user.username === params.username && user.password === params.password;\r\n                    });\r\n\r\n                    if (filteredUsers.length) {\r\n                        // if login details are valid return user details and fake jwt token\r\n                        let user = filteredUsers[0];\r\n                        let responseJson = {\r\n                            id: user.id,\r\n                            username: user.username,\r\n                            firstName: user.firstName,\r\n                            lastName: user.lastName,\r\n                            token: 'fake-jwt-token'\r\n                        };\r\n                        resolve({ ok: true, text: () => Promise.resolve(JSON.stringify(responseJson)) });\r\n                    } else {\r\n                        // else return error\r\n                        reject('Username or password is incorrect');\r\n                    }\r\n\r\n                    return;\r\n                }\r\n\r\n                // get users\r\n                if (url.endsWith('/users') && opts.method === 'GET') {\r\n                    // check for fake auth token in header and return users if valid, this security is implemented server side in a real application\r\n                    if (opts.headers && opts.headers.Authorization === 'Bearer fake-jwt-token') {\r\n                        resolve({ ok: true, text: () => Promise.resolve(JSON.stringify(users))});\r\n                    } else {\r\n                        // return 401 not authorised if token is null or invalid\r\n                        reject('Unauthorised');\r\n                    }\r\n\r\n                    return;\r\n                }\r\n\r\n                // get user by id\r\n                if (url.match(/\\/users\\/\\d+$/) && opts.method === 'GET') {\r\n                    // check for fake auth token in header and return user if valid, this security is implemented server side in a real application\r\n                    if (opts.headers && opts.headers.Authorization === 'Bearer fake-jwt-token') {\r\n                        // find user by id in users array\r\n                        let urlParts = url.split('/');\r\n                        let id = parseInt(urlParts[urlParts.length - 1]);\r\n                        let matchedUsers = users.filter(user => { return user.id === id; });\r\n                        let user = matchedUsers.length ? matchedUsers[0] : null;\r\n\r\n                        // respond 200 OK with user\r\n                        resolve({ ok: true, text: () => JSON.stringify(user)});\r\n                    } else {\r\n                        // return 401 not authorised if token is null or invalid\r\n                        reject('Unauthorised');\r\n                    }\r\n\r\n                    return;\r\n                }\r\n\r\n                // register user\r\n                if (url.endsWith('/users/register') && opts.method === 'POST') {\r\n                    // get new user object from post body\r\n                    let newUser = JSON.parse(opts.body);\r\n\r\n                    // validation\r\n                    let duplicateUser = users.filter(user => { return user.username === newUser.username; }).length;\r\n                    if (duplicateUser) {\r\n                        reject('Username \"' + newUser.username + '\" is already taken');\r\n                        return;\r\n                    }\r\n\r\n                    // save new user\r\n                    newUser.id = users.length ? Math.max(...users.map(user => user.id)) + 1 : 1;\r\n                    users.push(newUser);\r\n                    localStorage.setItem('users', JSON.stringify(users));\r\n\r\n                    // respond 200 OK\r\n                    resolve({ ok: true, text: () => Promise.resolve() });\r\n\r\n                    return;\r\n                }\r\n\r\n                \r\n\r\n                // pass through any requests not handled above\r\n                realFetch(url, opts).then(response => resolve(response));\r\n\r\n            }, 500);\r\n        });\r\n    }\r\n}","import { createBrowserHistory } from 'history';\r\n\r\nexport const history = createBrowserHistory();","export const alertConstants = {\r\n    SUCCESS: 'ALERT_SUCCESS',\r\n    ERROR: 'ALERT_ERROR',\r\n    CLEAR: 'ALERT_CLEAR'\r\n};\r\n","export const userConstants = {\r\n    REGISTER_REQUEST: 'USERS_REGISTER_REQUEST',\r\n    REGISTER_SUCCESS: 'USERS_REGISTER_SUCCESS',\r\n    REGISTER_FAILURE: 'USERS_REGISTER_FAILURE',\r\n\r\n    LOGIN_REQUEST: 'USERS_LOGIN_REQUEST',\r\n    LOGIN_SUCCESS: 'USERS_LOGIN_SUCCESS',\r\n    LOGIN_FAILURE: 'USERS_LOGIN_FAILURE',\r\n    \r\n    LOGOUT: 'USERS_LOGOUT',\r\n\r\n    GETALL_REQUEST: 'USERS_GETALL_REQUEST',\r\n    GETALL_SUCCESS: 'USERS_GETALL_SUCCESS',\r\n    GETALL_FAILURE: 'USERS_GETALL_FAILURE',\r\n  \r\n};\r\n","import { userConstants } from '../_constants';\r\n\r\nlet user = JSON.parse(localStorage.getItem('user'));\r\nconst initialState = user ? { loggedIn: true, user } : {};\r\n\r\nexport function authentication(state = initialState, action) {\r\n  switch (action.type) {\r\n    case userConstants.LOGIN_REQUEST:\r\n      return {\r\n        loggingIn: true,\r\n        user: action.user\r\n      };\r\n    case userConstants.LOGIN_SUCCESS:\r\n      return {\r\n        loggedIn: true,\r\n        user: action.user\r\n      };\r\n    case userConstants.LOGIN_FAILURE:\r\n      return {};\r\n    case userConstants.LOGOUT:\r\n      return {};\r\n    default:\r\n      return state\r\n  }\r\n}","import { combineReducers } from 'redux';\r\n\r\nimport { authentication } from './authentication.reducer';\r\nimport { registration } from './registration.reducer';\r\nimport { users } from './users.reducer';\r\nimport { alert } from './alert.reducer';\r\n\r\nconst rootReducer = combineReducers({\r\n  authentication,\r\n  registration,\r\n  users,\r\n  alert\r\n});\r\n\r\nexport default rootReducer;","import { userConstants } from '../_constants';\r\n\r\nexport function registration(state = {}, action) {\r\n  switch (action.type) {\r\n    case userConstants.REGISTER_REQUEST:\r\n      return { registering: true };\r\n    case userConstants.REGISTER_SUCCESS:\r\n      return {};\r\n    case userConstants.REGISTER_FAILURE:\r\n      return {};\r\n    default:\r\n      return state\r\n  }\r\n}","import { userConstants } from '../_constants';\r\n\r\nexport function users(state = {}, action) {\r\n  switch (action.type) {\r\n    case userConstants.GETALL_REQUEST:\r\n      return {\r\n        loading: true\r\n      };\r\n    case userConstants.GETALL_SUCCESS:\r\n      return {\r\n        items: action.users\r\n      };\r\n    case userConstants.GETALL_FAILURE:\r\n      return { \r\n        error: action.error\r\n      };\r\n    default:\r\n      return state\r\n  }\r\n}\r\n","import { alertConstants } from '../_constants';\r\n\r\nexport function alert(state = {}, action) {\r\n  switch (action.type) {\r\n    case alertConstants.SUCCESS:\r\n      return {\r\n        type: 'alert-success',\r\n        message: action.message\r\n      };\r\n    case alertConstants.ERROR:\r\n      return {\r\n        type: 'alert-danger',\r\n        message: action.message\r\n      };\r\n    case alertConstants.CLEAR:\r\n      return {};\r\n    default:\r\n      return state\r\n  }\r\n}","import { createStore, applyMiddleware } from 'redux';\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport { createLogger } from 'redux-logger';\r\nimport rootReducer from '../_reducers';\r\n\r\nconst loggerMiddleware = createLogger();\r\n\r\nexport const store = createStore(\r\n    rootReducer,\r\n    applyMiddleware(\r\n        thunkMiddleware,\r\n        loggerMiddleware\r\n    )\r\n);","export function authHeader() {\r\n    // return authorization header with jwt token\r\n    // used to make authenticated HTTP requests to the server api using JWT\r\n    let user = JSON.parse(localStorage.getItem('user'));\r\n\r\n    if (user && user.token) {\r\n        return { 'Authorization': 'Bearer ' + user.token };\r\n    } else {\r\n        return {};\r\n    }\r\n}","import { alertConstants } from '../_constants';\r\n\r\nexport const alertActions = {\r\n    success,\r\n    error,\r\n    clear\r\n};\r\n\r\nfunction success(message) {\r\n    return { type: alertConstants.SUCCESS, message };\r\n}\r\n\r\nfunction error(message) {\r\n    return { type: alertConstants.ERROR, message };\r\n}\r\n\r\nfunction clear() {\r\n    return { type: alertConstants.CLEAR };\r\n}","import { authHeader } from '../_helpers';\r\n\r\nexport const userService = {\r\n    login,\r\n    logout,\r\n    register,\r\n    getAll,\r\n    getById,\r\n    update,\r\n};\r\n\r\nfunction login(username, password) {\r\n    const requestOptions = {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ username, password })\r\n    };\r\n\r\n    return fetch(`/users/authenticate`, requestOptions)\r\n        .then(handleResponse)\r\n        .then(user => {\r\n            // store user details and jwt token in local storage to keep user logged in between page refreshes\r\n            localStorage.setItem('user', JSON.stringify(user));\r\n\r\n            return user;\r\n        });\r\n}\r\n\r\nfunction logout() {\r\n    // remove user from local storage to log user out\r\n    localStorage.removeItem('user');\r\n}\r\n\r\nfunction getAll() {\r\n    const requestOptions = {\r\n        method: 'GET',\r\n        headers: authHeader()\r\n    };\r\n\r\n    return fetch(`/users`, requestOptions).then(handleResponse);\r\n}\r\n\r\nfunction getById(id) {\r\n    const requestOptions = {\r\n        method: 'GET',\r\n        headers: authHeader()\r\n    };\r\n\r\n    return fetch(`/users/${id}`, requestOptions).then(handleResponse);\r\n}\r\n\r\nfunction register(user) {\r\n    const requestOptions = {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(user)\r\n    };\r\n\r\n    return fetch(`/users/register`, requestOptions).then(handleResponse);\r\n}\r\n\r\nfunction update(user) {\r\n    const requestOptions = {\r\n        method: 'PUT',\r\n        headers: { ...authHeader(), 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(user)\r\n    };\r\n\r\n    return fetch(`/users/${user.id}`, requestOptions).then(handleResponse);;\r\n}\r\n\r\n\r\n\r\nfunction handleResponse(response) {\r\n    return response.text().then(text => {\r\n        const data = text && JSON.parse(text);\r\n        if (!response.ok) {\r\n            if (response.status === 401) {\r\n                // auto logout if 401 response returned from api\r\n                logout();\r\n                // location.reload(true);\r\n            }\r\n\r\n            const error = (data && data.message) || response.statusText;\r\n            return Promise.reject(error);\r\n        }\r\n\r\n        return data;\r\n    });\r\n}","import { userConstants } from '../_constants';\r\nimport { userService } from '../_services';\r\nimport { alertActions } from './';\r\nimport { history } from '../_helpers';\r\n\r\nexport const userActions = {\r\n    login,\r\n    logout,\r\n    register,\r\n    getAll,\r\n};\r\n\r\nfunction login(username, password) {\r\n    return dispatch => {\r\n        dispatch(request({ username }));\r\n\r\n        userService.login(username, password)\r\n            .then(\r\n                user => { \r\n                    dispatch(success(user));\r\n                    history.push('/');\r\n                },\r\n                error => {\r\n                    dispatch(failure(error));\r\n                    dispatch(alertActions.error(error));\r\n                }\r\n            );\r\n    };\r\n\r\n    function request(user) { return { type: userConstants.LOGIN_REQUEST, user } }\r\n    function success(user) { return { type: userConstants.LOGIN_SUCCESS, user } }\r\n    function failure(error) { return { type: userConstants.LOGIN_FAILURE, error } }\r\n}\r\n\r\nfunction logout() {\r\n    userService.logout();\r\n    return { type: userConstants.LOGOUT };\r\n}\r\n\r\nfunction register(user) {\r\n    return dispatch => {\r\n        dispatch(request(user));\r\n\r\n        userService.register(user)\r\n            .then(\r\n                user => { \r\n                    dispatch(success());\r\n                    history.push('/login');\r\n                    dispatch(alertActions.success('Registration successful'));\r\n                },\r\n                error => {\r\n                    dispatch(failure(error));\r\n                    dispatch(alertActions.error(error));\r\n                }\r\n            );\r\n    };\r\n\r\n    function request(user) { return { type: userConstants.REGISTER_REQUEST, user } }\r\n    function success(user) { return { type: userConstants.REGISTER_SUCCESS, user } }\r\n    function failure(error) { return { type: userConstants.REGISTER_FAILURE, error } }\r\n}\r\n\r\nfunction getAll() {\r\n    return dispatch => {\r\n        dispatch(request());\r\n\r\n        userService.getAll()\r\n            .then(\r\n                users => dispatch(success(users)),\r\n                error => dispatch(failure(error))\r\n            );\r\n    };\r\n\r\n    function request() { return { type: userConstants.GETALL_REQUEST } }\r\n    function success(users) { return { type: userConstants.GETALL_SUCCESS, users } }\r\n    function failure(error) { return { type: userConstants.GETALL_FAILURE, error } }\r\n}\r\n\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\nexport const PrivateRoute = ({ component: Component, ...rest }) => (\r\n    <Route {...rest} render={props => (\r\n        localStorage.getItem('user')\r\n            ? <Component {...props} />\r\n            : <Redirect to={{ pathname: '/login', state: { from: props.location } }} />\r\n    )} />\r\n)","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { userActions } from '../_actions';\r\n\r\nclass HomePage extends React.Component {\r\n    componentDidMount() {\r\n        this.props.getUsers();\r\n    }\r\n\r\n    \r\n\r\n    render() {\r\n        const { user, users } = this.props;\r\n        return (\r\n            <div className=\"col-md-6 col-md-offset-3\">\r\n                <h1>Hi {user.firstName}!</h1>\r\n                <p>You're logged in!!</p>\r\n                <p>\r\n                    <Link to=\"/login\"><button className=\"btn btn-primary\">Logout</button>\r\n</Link>\r\n                </p>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nfunction mapState(state) {\r\n    const { users, authentication } = state;\r\n    const { user } = authentication;\r\n    return { user, users };\r\n}\r\n\r\nconst actionCreators = {\r\n    getUsers: userActions.getAll,\r\n}\r\n\r\nconst connectedHomePage = connect(mapState, actionCreators)(HomePage);\r\nexport { connectedHomePage as HomePage };\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { userActions } from '../_actions';\r\n\r\nclass LoginPage extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        // reset login status\r\n        this.props.logout();\r\n\r\n        this.state = {\r\n            username: '',\r\n            password: '',\r\n            submitted: false\r\n        };\r\n\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n\r\n    handleChange(e) {\r\n        const { name, value } = e.target;\r\n        this.setState({ [name]: value });\r\n    }\r\n\r\n    handleSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        this.setState({ submitted: true });\r\n        const { username, password } = this.state;\r\n        if (username && password) {\r\n            this.props.login(username, password);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { loggingIn } = this.props;\r\n        const { username, password, submitted } = this.state;\r\n        return (\r\n            <div className=\"col-md-6 col-md-offset-3\">\r\n                <h2>Login</h2>\r\n                <form name=\"form\" onSubmit={this.handleSubmit}>\r\n                    <div className={'form-group' + (submitted && !username ? ' has-error' : '')}>\r\n                        <label htmlFor=\"username\">Username</label>\r\n                        <input type=\"text\" className=\"form-control\" name=\"username\" value={username} onChange={this.handleChange} />\r\n                        {submitted && !username &&\r\n                            <div className=\"help-block\">Username is required</div>\r\n                        }\r\n                    </div>\r\n                    <div className={'form-group' + (submitted && !password ? ' has-error' : '')}>\r\n                        <label htmlFor=\"password\">Password</label>\r\n                        <input type=\"password\" className=\"form-control\" name=\"password\" value={password} onChange={this.handleChange} />\r\n                        {submitted && !password &&\r\n                            <div className=\"help-block\">Password is required</div>\r\n                        }\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <button className=\"btn btn-primary\">Login</button>\r\n                        {loggingIn &&\r\n                            <img src=\"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==\" />\r\n                        }\r\n                        <Link to=\"/register\" className=\"btn btn-link\">Register</Link>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nfunction mapState(state) {\r\n    const { loggingIn } = state.authentication;\r\n    return { loggingIn };\r\n}\r\n\r\nconst actionCreators = {\r\n    login: userActions.login,\r\n    logout: userActions.logout\r\n};\r\n\r\nconst connectedLoginPage = connect(mapState, actionCreators)(LoginPage);\r\nexport { connectedLoginPage as LoginPage };","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { userActions } from '../_actions';\r\n\r\nclass RegisterPage extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: {\r\n                firstName: '',\r\n                lastName: '',\r\n                username: '',\r\n                password: ''\r\n            },\r\n            submitted: false\r\n        };\r\n\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n\r\n    handleChange(event) {\r\n        const { name, value } = event.target;\r\n        const { user } = this.state;\r\n        this.setState({\r\n            user: {\r\n                ...user,\r\n                [name]: value\r\n            }\r\n        });\r\n    }\r\n\r\n    handleSubmit(event) {\r\n        event.preventDefault();\r\n\r\n        this.setState({ submitted: true });\r\n        const { user } = this.state;\r\n        if (user.firstName && user.lastName && user.username && user.password) {\r\n            this.props.register(user);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { registering  } = this.props;\r\n        const { user, submitted } = this.state;\r\n        return (\r\n            <div className=\"col-md-6 col-md-offset-3\">\r\n                <h2>Register</h2>\r\n                <form name=\"form\" onSubmit={this.handleSubmit}>\r\n                    <div className={'form-group' + (submitted && !user.firstName ? ' has-error' : '')}>\r\n                        <label htmlFor=\"firstName\">First Name</label>\r\n                        <input type=\"text\" className=\"form-control\" name=\"firstName\" value={user.firstName} onChange={this.handleChange} />\r\n                        {submitted && !user.firstName &&\r\n                            <div className=\"help-block\">First Name is required</div>\r\n                        }\r\n                    </div>\r\n                    <div className={'form-group' + (submitted && !user.lastName ? ' has-error' : '')}>\r\n                        <label htmlFor=\"lastName\">Last Name</label>\r\n                        <input type=\"text\" className=\"form-control\" name=\"lastName\" value={user.lastName} onChange={this.handleChange} />\r\n                        {submitted && !user.lastName &&\r\n                            <div className=\"help-block\">Last Name is required</div>\r\n                        }\r\n                    </div>\r\n                    <div className={'form-group' + (submitted && !user.username ? ' has-error' : '')}>\r\n                        <label htmlFor=\"username\">Username</label>\r\n                        <input type=\"text\" className=\"form-control\" name=\"username\" value={user.username} onChange={this.handleChange} />\r\n                        {submitted && !user.username &&\r\n                            <div className=\"help-block\">Username is required</div>\r\n                        }\r\n                    </div>\r\n                    <div className={'form-group' + (submitted && !user.password ? ' has-error' : '')}>\r\n                        <label htmlFor=\"password\">Password</label>\r\n                        <input type=\"password\" className=\"form-control\" name=\"password\" value={user.password} onChange={this.handleChange} />\r\n                        {submitted && !user.password &&\r\n                            <div className=\"help-block\">Password is required</div>\r\n                        }\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <button className=\"btn btn-primary\">Register</button>\r\n                        {registering && \r\n                            <img src=\"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==\" />\r\n                        }\r\n                        <Link to=\"/login\" className=\"btn btn-link\">Cancel</Link>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nfunction mapState(state) {\r\n    const { registering } = state.registration;\r\n    return { registering };\r\n}\r\n\r\nconst actionCreators = {\r\n    register: userActions.register\r\n}\r\n\r\nconst connectedRegisterPage = connect(mapState, actionCreators)(RegisterPage);\r\nexport { connectedRegisterPage as RegisterPage };","import React from 'react';\r\nimport { Router, Route, Switch, Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { history } from '../_helpers';\r\nimport { alertActions } from '../_actions';\r\nimport { PrivateRoute } from '../_components';\r\nimport { HomePage } from '../HomePage';\r\nimport { LoginPage } from '../LoginPage';\r\nimport { RegisterPage } from '../RegisterPage';\r\n\r\nclass App extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        history.listen((location, action) => {\r\n            // clear alert on location change\r\n            this.props.clearAlerts();\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const { alert } = this.props;\r\n        return (\r\n            <div className=\"jumbotron\">\r\n                <div className=\"container\">\r\n                    <div className=\"col-sm-8 col-sm-offset-2\">\r\n                        {alert.message &&\r\n                            <div className={`alert ${alert.type}`}>{alert.message}</div>\r\n                        }\r\n                        <Router history={history}>\r\n                            <Switch>\r\n                                <PrivateRoute exact path=\"/\" component={HomePage} />\r\n                                <Route path=\"/login\" component={LoginPage} />\r\n                                <Route path=\"/register\" component={RegisterPage} />\r\n                                <Redirect from=\"*\" to=\"/\" />\r\n                            </Switch>\r\n                        </Router>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nfunction mapState(state) {\r\n    const { alert } = state;\r\n    return { alert };\r\n}\r\n\r\nconst actionCreators = {\r\n    clearAlerts: alertActions.clear\r\n};\r\n\r\nconst connectedApp = connect(mapState, actionCreators)(App);\r\nexport { connectedApp as App };","import React from 'react';\r\nimport { render } from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\n\r\nimport { store } from './_helpers';\r\nimport { App } from './App';\r\n\r\n// setup fake backend\r\nimport { configureFakeBackend } from './_helpers';\r\nconfigureFakeBackend();\r\n\r\nrender(\r\n    <Provider store={store}>\r\n        <App />\r\n    </Provider>,\r\n    document.getElementById('app')\r\n);"],"sourceRoot":""}